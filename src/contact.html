<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact Us — ZapCorp</title>
  <meta name="description" content="Get in touch with ZapCorp for business inquiries, support, or collaborations." />
  <link rel="stylesheet" href="/src/assets/css/styles.css" />
  <link rel="icon" href="/public/favicon.ico" />
</head>

<body>

  <!-- HEADER -->
  <header class="topbar glass">
    <div class="container topbar-inner">
      <a href="/" class="brand">
        <img src="/public/images/logo.png" alt="ZapCorp" class="logo" />
        <span>ZapCorp</span>
      </a>

      <nav class="nav">
        <a href="/src/about.html">About</a>
        <a href="/src/services.html">Services</a>
        <a href="/src/blog.html">Blog</a>
        <a href="/src/contact.html" class="cta active">Contact</a>
      </nav>
    </div>
  </header>

  <main>

    <!-- HERO -->
    <section class="hero glass" style="padding:50px 20px;text-align:center;">
      <h1>Contact Us</h1>
      <p class="lead">We’d love to hear from you. Let’s build something amazing together.</p>
    </section>

    <!-- CONTACT FORM -->
    <section class="container" style="margin-top:40px;">
      <div class="glass" 
           style="padding:30px;border-radius:20px;max-width:650px;margin:auto;">

        <h2 style="text-align:center;">Send Us a Message</h2>

        <form id="contactForm" style="margin-top:20px;">
          
          <div class="form-group" style="margin-bottom:16px;">
            <label>Name</label>
            <input type="text" id="name" required 
                   class="glass" 
                   style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.3);" />
          </div>

          <div class="form-group" style="margin-bottom:16px;">
            <label>Email</label>
            <input type="email" id="email" required
                   class="glass"
                   style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.3);" />
          </div>

          <div class="form-group" style="margin-bottom:16px;">
            <label>Phone</label>
            <input type="tel" id="phone"
                   class="glass"
                   style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.3);" />
          </div>

          <div class="form-group" style="margin-bottom:16px;">
            <label>Message</label>
            <textarea id="message" rows="5" required
                      class="glass"
                      style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.3);"></textarea>
          </div>

          <button type="submit" class="btn primary" 
                  style="width:100%;padding:14px;font-size:16px;">
            Submit Message
          </button>
        </form>

        <p id="formStatus" 
           style="text-align:center;margin-top:14px;font-weight:600;"></p>

      </div>
    </section>

    <!-- CONTACT INFO -->
    <section class="container" style="margin-top:40px;">
      <div class="cards" style="grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;">

        <div class="card glass" style="padding:20px;">
          <h3>Address</h3>
          <p class="muted">ZapCorp HQ,<br/>Rajapalayam, Tamil Nadu, India</p>
        </div>

        <div class="card glass" style="padding:20px;">
          <h3>Email</h3>
          <p class="muted">support@zapcorp.com</p>
        </div>

        <div class="card glass" style="padding:20px;">
          <h3>Phone</h3>
          <p class="muted">+91 98765 43210</p>
        </div>

      </div>
    </section>

    <!-- MAP (OPTIONAL) -->
    <section class="container" style="margin-top:40px;text-align:center;">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m18..."
        width="100%" height="320" style="border:0;border-radius:16px;" allowfullscreen="">
      </iframe>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="footer glass" style="margin-top:40px;padding:20px;">
    <div class="container" style="text-align:center;">
      <p class="muted">© ZapCorp — Intelligent IT Solutions</p>
    </div>
  </footer>

  <script src="/src/assets/js/main.js" defer></script>

  <script>
    // ------------ CONTACT FORM SUBMISSION ---------------
    const form = document.getElementById('contactForm');
    const statusEl = document.getElementById('formStatus');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        message: document.getElementById('message').value.trim(),
      };

      statusEl.style.color = 'white';
      statusEl.textContent = 'Sending...';

      try {
        const res = await fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });

        const data = await res.json();

        if (data.success) {
          statusEl.style.color = '#00ff88';
          statusEl.textContent = 'Message sent successfully!';

          form.reset();
        } else {
          throw new Error();
        }

      } catch (error) {
        statusEl.style.color = '#FF4444';
        statusEl.textContent = 'Something went wrong. Please try again.';
      }
    });
  </script>

</body>
</html>
